<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Enviar datos con proxy gratuito</title>
</head>
<body>
  <h3>Formulario de prueba</h3>
  <input type="text" id="nombre" placeholder="Nombre del tÃ©cnico"><br><br>
  <button onclick="enviarDatos()">Enviar</button>

  <script>
    async function enviarDatos() {
      const nombre = document.getElementById('nombre').value;

      const datos = {
        tecnico: nombre,
        tipo_mov: "Entrada",
        motivo: "Prueba desde proxy",
        repuesto: "RepuestoX",
        serie: "12345"
      };

      const originalUrl = "https://script.google.com/macros/s/AKfycbzWInYPLtjrKf8Jfaey09DODsHfmpKnfG6khN5RKDoP76mSdF40j5okYSid-JIamS5v/exec";
      const proxyUrl = "https://corsproxy.io/?" + encodeURIComponent(originalUrl);

      try {
        const respuesta = await fetch(proxyUrl, {
          method: "POST",
          headers: {
            "Content-Type": "application/json"
          },
          body: JSON.stringify(datos)
        });

        const json = await respuesta.json();
        alert("Respuesta del servidor: " + json.message || "Enviado correctamente");
      } catch (error) {
        console.error("Error al enviar:", error);
        alert("Error al enviar los datos");
      }
    }
  </script>
</body>
</html>
